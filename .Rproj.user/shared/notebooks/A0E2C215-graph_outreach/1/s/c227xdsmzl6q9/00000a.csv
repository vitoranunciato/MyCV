"0","data = read_excel(""data/outreach.xlsx"")"
"0",""
"0","data %>% "
"0","  count(data, main) -> data_df"
"0",""
"0","df = data %>% "
"0","  group_by(main) %>% "
"0","  count()"
"0","df = as.data.frame(df)    "
"0","df = df %>% "
"0","  rename(count = n) "
"0",""
"0","vals <- df$count"
"0","val_names <- sprintf(""%s (%s)"", df$main, scales::percent(round(df$count/sum(df$count), 2)))"
"0","names(vals) <- val_names"
"0",""
"0","ggplot(data_df, aes(fill = main, values = n)) +"
"0","  geom_waffle(color = ""white"", size = .25, n_rows = 2, flip = TRUE) +"
"0","  facet_wrap(~data, nrow = 1, strip.position = ""bottom"") +"
"0","  scale_x_discrete() +"
"0","  scale_y_discrete(limits = c(0, 2, 4, 6))+"
"0","  scale_fill_grey(start = 0.2, end = 0.9, labels = val_names)+"
"0","  coord_equal() +"
"0","  labs("
"0","    title = ""Extention publications"","
"0","    subtitle = ""One square:one extension publication"","
"0","    x = ""Year"","
"0","    y = ""Count"","
"0","    fill = ""Main topic of extension publication"","
"0","    caption = ""(%) represents the % of the theme relative to the total of publications."""
"0","  ) +"
"0","  theme_minimal() +"
"0","  theme(panel.grid = element_blank(), axis.ticks.y = element_line(), panel.spacing.x=unit(0.01, ""lines"")) +"
"0","  guides(fill = guide_legend(reverse = TRUE))"
"2","Continuous limits supplied to discrete scale.
Did you mean `limits = factor(...)` or `scale_*_continuous()`?"
